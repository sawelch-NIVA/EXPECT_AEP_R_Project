{
  "hash": "967dd319baad7a4743b4a8280226bc0b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Notebook 01 - Quality Control\"\nauthor: \"Sam Welch\"\ndate: \"2025.11.25\"\nlightbox: true\n---\n\nLoad libraries and data.\n\n\n\n\n## Data Quality Overview\n\n\n```{.r .cell-code}\n#' Generate a text summary of data quality issues\n#'\n#' @param qc_report Output from check_data_quality()\n#' @return A character string with markdown-formatted summary\nformat_quality_summary <- function(qc_report) {\n  s <- qc_report$summary\n\n  glue(\n    \"\nDataset contains **{s$total_rows}** rows from **{s$total_references}** references across **{s$total_sites}** sites.\n\n**Issues identified:**\n\n- **Measurements**: {s$n_rows_missing_measurements} rows ({s$n_refs_missing_measurements} references) missing all measurement data (value, LOQ, and LOD)\n- **Sample size**: {s$n_rows_missing_n} rows ({s$n_refs_missing_n} references) missing or zero sample size\n- **Methods**: {s$n_rows_missing_methods} rows ({s$n_refs_missing_methods} references) missing method information\n- **Uncertainty**: {s$n_rows_missing_uncertainty} rows ({s$n_refs_missing_uncertainty} references) missing uncertainty type\n- **Site data**: {s$n_sites_missing_data} sites ({s$n_refs_missing_sites} references) missing location/geographic data\n- **Biota data**: {s$n_rows_missing_biota} rows ({s$n_refs_missing_biota} references) missing species/tissue information\n\"\n  )\n}\n\ncat(format_quality_summary(literature_qc))\n```\n\n## Missing Data\n\n### Missing Measurements\n\nRows where measured value, LOQ, and LOD are all missing.\n\nKnown issues:\n\n-   2025PelkonenEnvironmentalImpactOf does not report LOD/LOQ values in main paper or ESI.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-79c421e831df0269a0d9\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-79c421e831df0269a0d9\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>References with missing measurement data<\\/caption>\",\"data\":[[\"1\",\"2\"],[\"2018AnderssonGeochemistryOfA_Measurements_20251103_093448.csv\",\"2025PelkonenEnvironmentalImpactOf_Measurements_20251104_092150.csv\"],[\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\"],[49,3]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Missing Sample Size\n\nRows where MEASURED_N is missing or zero.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-28ee9aee3eebfe25ce62\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-28ee9aee3eebfe25ce62\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>References with missing sample size<\\/caption>\",\"data\":[[\"1\"],[\"2018AnderssonGeochemistryOfA_Measurements_20251103_093448.csv\"],[\"2025-12-30T10:12:11Z\"],[49]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Missing Methods\n\nRows missing any of: analytical protocol, extraction protocol, fractionation protocol, or sampling protocol.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-a077881ccb78f648f37c\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a077881ccb78f648f37c\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>References with missing method information<\\/caption>\",\"data\":[[\"1\"],[\"2018AnderssonGeochemistryOfA_Measurements_20251103_093448.csv\"],[\"2025-12-30T10:12:11Z\"],[49],[\"Analytical, Extraction, Fractionation, Sampling\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n      <th>Missing Protocols<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3},{\"name\":\"missing_elements\",\"targets\":4}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Missing Uncertainty\n\nRows where UNCERTAINTY_TYPE or UNCERTAINTY\\_\\*\\_STANDARD are missing.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-cd67dea97b14ec826a23\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-cd67dea97b14ec826a23\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>References with missing or problematic uncertainty<\\/caption>\",\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\"],[\"2000JulshamnTraceElementLevels_Measurements_20251031_132104.csv\",\"2002HellandTransportAndSedimentation_Measurements_20251104_075533.csv\",\"2006ZaukeHeavyMetalsIn_Measurements_20251216_135631.csv\",\"2011CaiContentAndDistribution_Measurements_20251031_150640.csv\",\"2018AnderssonGeochemistryOfA_Measurements_20251103_093448.csv\",\"2018ErvikToxicAndEssential_Measurements_20251217_093651.csv\",\"2019SchaanningBenthicCommunityStatus_Measurements_20251217_100327.csv\",\"2019SimonsenLabilityOfToxic_Measurements_20251110_085003.csv\",\"2019SndergaardGreenSeaUrchins_Measurements_20251216_122039.csv\",\"2021LehmannKonEffectsOfBiotransport_Measurements_20251217_112040.csv\",\"2022KohlerDistributionPatternOf_Measurements_20251217_115443.csv\",\"2022ParoliniTrendsAndPotential_Measurements_20251102_130348.csv\",\"2022PedersenImpactsOfClimate_Measurements_20251110_130916.csv\",\"2024HoffBiogeochemicalImpactOf_Measurements_20251213_121228.csv\",\"2024IglikowskaTraceMetalsIn_Measurements_20251217_131320.csv\",\"2025PelkonenEnvironmentalImpactOf_Measurements_20251104_092150.csv\",\"Vm_2010_2025_Measurements_20251216_105510.csv\"],[\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\"],[18,48,11,25,50,8,6,140,9,1,25,41,11,42,20,3,48384],[\"Type not reported, Upper missing, Lower missing\",\"Type not relevant, Upper missing, Lower missing\",\"Type missing\",\"Type not relevant, Upper missing, Lower missing\",\"Type missing, Upper missing, Lower missing\",\"Type not relevant, Upper missing, Lower missing, Lower zero, Lower above value\",\"Type not relevant, Upper missing, Lower missing\",\"Type not reported, Upper missing, Lower missing\",\"Type not reported, Type not relevant, Upper missing, Lower missing\",\"Lower zero\",\"Type not relevant, Upper missing, Lower missing\",\"Type not reported, Upper missing, Lower missing\",\"Type not reported, Upper missing, Lower missing\",\"Type not relevant, Upper missing, Lower missing\",\"Type not relevant, Upper missing, Lower missing\",\"Type not reported, Upper missing, Lower missing\",\"Type not reported, Upper missing, Lower missing\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n      <th>Uncertainty Issues<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3},{\"name\":\"missing_elements\",\"targets\":4}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Missing Site Data\n\nSites missing coordinates, geographic features, country, or ocean information.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-f730e64a139c00f5b8f0\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-f730e64a139c00f5b8f0\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>Sites with missing geographic data<\\/caption>\",\"data\":[[\"1\",\"2\",\"3\",\"4\"],[\"2018AnderssonGeochemistryOfA_Measurements_20251103_093448.csv\",\"2017RasmussenEffectsOfIndustrial_Measurements_20251216_113823.csv\",\"2017RasmussenEffectsOfIndustrial_Measurements_20251216_113823.csv\",\"2017RasmussenEffectsOfIndustrial_Measurements_20251216_113823.csv\"],[\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\",\"2025-12-30T10:12:11Z\"],[49,1,1,1],[\"\",\"seafoodprocessing_Atlantic_salmon\",\"seafoodprocessing_Greenland_halibut\",\"seafoodprocessing_Greenland_prawns\"],[\"Coordinates, Name, Feature, Feature sub, Country, Ocean\",\"Coordinates, Name, Feature, Feature sub, Country, Ocean\",\"Coordinates, Name, Feature, Feature sub, Country, Ocean\",\"Coordinates, Name, Feature, Feature sub, Country, Ocean\"]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n      <th>SITE_CODE<\\/th>\\n      <th>Missing Variables<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3},{\"name\":\"SITE_CODE\",\"targets\":4},{\"name\":\"missing_elements\",\"targets\":5}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\n### Missing Biota Data\n\nBiota samples missing species, tissue, lifestage, gender, or species group.\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-e24a7c6ed8c657823387\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e24a7c6ed8c657823387\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"caption\":\"<caption>References with missing biota information<\\/caption>\",\"data\":[[\"1\"],[\"2018ErvikToxicAndEssential_Measurements_20251217_093651.csv\"],[\"2025-12-30T10:12:11Z\"],[1],[\"Species, Tissue, Lifestage, Gender, Group\"],[[\"Mausund2012-2015_LOC1-Copper-BiotaAquatic-2014-09-01-R-1\"]]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>Source<\\/th>\\n      <th>Timestamp<\\/th>\\n      <th>Rows<\\/th>\\n      <th>Missing Variables<\\/th>\\n      <th>SAMPLE_ID<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"pageLength\":10,\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":3},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"source_file_measurements\",\"targets\":1},{\"name\":\"read_timestamp_measurements\",\"targets\":2},{\"name\":\"n_rows\",\"targets\":3},{\"name\":\"missing_elements\",\"targets\":4},{\"name\":\"sample_ids\",\"targets\":5}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false},\"selection\":{\"mode\":\"multiple\",\"selected\":null,\"target\":\"row\",\"selectable\":null}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.9/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.34.0/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.2/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.2/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}